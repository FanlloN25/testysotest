# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Realtime Database

## üìä –†–ê–ó–ù–ò–¶–ê –ú–ï–ñ–î–£ –ë–ê–ó–ê–ú–ò:

### Firestore (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ (`admin.firestore()`)
- ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ –ú–æ—â–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ Rules —Ñ–∞–π–ª: `firebase.rules`

### Realtime Database:
- ‚ö° –ü—Ä–æ—Å—Ç–∞—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚ö° –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚ö° Rules —Ñ–∞–π–ª: `database.rules.json`

## üîß –ù–ê–°–¢–†–û–ô–ö–ê REALTIME DATABASE:

### –®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤ Firebase Console
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: **softai-bd22a**
3. –ù–∞–∂–º–∏—Ç–µ: **Realtime Database**
4. –ù–∞–∂–º–∏—Ç–µ: **Create Database**
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω: **Europe-west** (–∏–ª–∏ –±–ª–∏–∂–∞–π—à–∏–π)
6. –ù–∞–∂–º–∏—Ç–µ: **Next**
7. –í—ã–±–µ—Ä–∏—Ç–µ: **Start in test mode** (–ø–æ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–∏–º –ø—Ä–∞–≤–∏–ª–∞)
8. –ù–∞–∂–º–∏—Ç–µ: **Done**

### –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Security Rules
1. –í Realtime Database –Ω–∞–∂–º–∏—Ç–µ: **Rules**
2. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `database.rules.json`
4. –ù–∞–∂–º–∏—Ç–µ: **Publish**

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•:

```
/users/
  /userId1/
    email: "user@example.com"
    username: "user123"
    createdAt: 1234567890
    isActive: true
    
/sessions/
  /sessionId1/
    userId: "userId1"
    expiresAt: 1234567890
    
/login_attempts/
  /attemptId1/
    identifier: "user@example.com"
    timestamp: 1234567890
```

## üîÑ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –í –ö–û–î–ï:

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Realtime Database –≤–º–µ—Å—Ç–æ Firestore, –∑–∞–º–µ–Ω–∏—Ç–µ –≤ `auth.js`:

```javascript
// –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
const db = admin.firestore();

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ:
const db = admin.database();
```

–ò –∏–∑–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î:

```javascript
// Firestore:
await db.collection('users').doc(userId).set(user);

// Realtime Database:
await db.ref(`users/${userId}`).set(user);
```

## üõ°Ô∏è –ü–†–ê–í–ò–õ–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò:

### –î–ª—è Realtime Database –ø—Ä–∞–≤–∏–ª–∞ –∫–æ—Ä–æ—á–µ:
- `.read` - —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `.write` - –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö  
- `.validate` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `$variable` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ ID

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª:
```json
{
  "users": {
    "$userId": {
      ".read": "auth != null && auth.uid == $userId",
      ".write": "auth != null && auth.uid == $userId"
    }
  }
}
```

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:

**–û—Å—Ç–∞–≤—å—Ç–µ Firestore** - –æ–Ω —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–∞—à–∏–º –∫–æ–¥–æ–º.
Realtime Database –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:
- –ß–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

–î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π **Firestore –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ**.